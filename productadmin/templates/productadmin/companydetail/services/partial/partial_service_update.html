{% load static %}
{% load hosts %}
{% load crispy_forms_tags %}
{% block linkscript %}{{ product_form.media }}{% endblock linkscript %}
<div class="modal-header {% if company.darkmode %}text-white{% endif %}">
    <h5 class="modal-title {% if company.darkmode %}text-white{% endif %}" id="exampleModalLabel">Update your product - {{ product.name }}</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
      <div class="modal-body">
        <form method="POST" action="{% host_url 'updateproduct' product.id host 'prodadmin' %}" enctype="multipart/form-data">
            {% csrf_token %}
            {{ product_form.name|as_crispy_field }}
            <div class="row align-items-center">
                <div class="col-md-6">
                    <label for="id_price">Price</label>
                    <div class="input-group">
                        <div class="input-group-prepend">
                            <div class="input-group-text">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                        </div>
                        <input type="number" name="price" step="0.01" value="{{product.price}}" class="numberinput form-control" required id="id_price">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="">
                        <label for="id_mainimage">Main Product Image</label>
                        <div>{{ product_form.mainimage }}</div>
                    </div>
                </div>
                <div class="col-md-6">
                    {{ product_form.dispatch|as_crispy_field }}
                </div>
                <div class="col-md-6">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" name="requestedinput" type="checkbox" {% if product.request %}checked{% endif %}>
                            <span class="form-check-sign"></span>
                            Must be approved before accepting payment
                        </label>
                    </div>
                </div>
                <div class="col-12">
                {{ product_form.description|as_crispy_field }}
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-info">Update Your Product</button>
            </div>
        </form>
    </div>
<script >
    var $selectpicker = $('.selectpicker');
    //    Activate bootstrap-select
    if ($selectpicker.length != 0) {
        $selectpicker.selectpicker({
        
        });
    }
    {% comment %} $('#updateservformss').submit(function(e){
                e.preventDefault();
                btn.attr("data-category")
                $.ajax({
                    type:'POST',
                    url: "{% host_url 'updateservice' service.id host 'bizadmin' %}",
                    data: $('#updateservformss').serialize(),
                    headers:{
                        "X-CSRFToken": csrftoken
                    },
                    success:function(data){
                        $('#modal-update').modal('hide');
                        var htmlcontent = data.html_service_list
                        var el = document.querySelector('#service-t');
                        el.innerHTML = htmlcontent
                        console.log(data)
                        var htmlcontents = data.html_category_list
                        var catel = document.querySelector('#categorylisttab');
                        catel.innerHTML = htmlcontents
                        $.notify({
                            // options
                            message: data.view
                        },{
                            // settings
                            type: 'success'
                        });
                    }
                });
            }); {% endcomment %}
</script> 